(this.webpackJsonpheartsight=this.webpackJsonpheartsight||[]).push([[0],{335:function(e,t,a){},483:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),i=a.n(r),s=(a(335),a(588)),l=a(569),o=a(571),d=a(124),u=a(572),j=a(294),b=a.n(j),h=a(567),p=a(593),m=a(16),x=a.n(m),O=a(31),f=a(11),g=a(88);a(484),a(337);g.a.initializeApp({apiKey:"AIzaSyCgYqq7n8HfuCs8SjPayoEiyknqDbO_AyA",authDomain:"fit3170-mobile-app.firebaseapp.com",projectId:"fit3170-mobile-app",storageBucket:"fit3170-mobile-app.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/FIT3170-webapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyCgYqq7n8HfuCs8SjPayoEiyknqDbO_AyA",REACT_APP_AUTH_DOMAIN:"fit3170-mobile-app.firebaseapp.com",REACT_APP_PROJECT_ID:"fit3170-mobile-app",REACT_APP_STORAGE_BUCKET:"fit3170-mobile-app.appspot.com",REACT_APP_MESSAGE_SENDER_ID:"1178573807",REACT_APP_APP_ID:"1:1178573807:web:6c1fbec88ed6e2e7f5b41a"}).REACT_APP_MESSAGING_SENDER_ID,appId:"1:1178573807:web:6c1fbec88ed6e2e7f5b41a"});var v=g.a.auth(),C=g.a.firestore(),y=a(597),N=a(3),P=Object(n.createContext)(null);function w(){return Object(n.useContext)(P)}var F=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(f.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!0),l=Object(f.a)(s,2),o=l[0],d=l[1];function u(){return(u=Object(O.a)(x.a.mark((function e(t,a,n){var c,r,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.createUserWithEmailAndPassword(t,a);case 3:return r=e.sent,i=null===r||void 0===r||null===(c=r.user)||void 0===c?void 0:c.uid,e.next=7,C.collection("doctors").doc(i).set(n);case 7:e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function j(){return(j=Object(O.a)(x.a.mark((function e(){var t,a,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(t=Object(y.a)()).toString().replaceAll("-",""),a=new Date(Date.now()+864e5),n=g.a.firestore.Timestamp.fromDate(a),e.prev=4,c=r.uid,e.next=8,C.collection("invites").doc(t).set({doctorId:c,validUntil:n});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0),alert(e.t0);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}var b={currentUser:r,signUp:function(e,t,a){return u.apply(this,arguments)},createInvite:function(){return j.apply(this,arguments)},login:function(e,t){return v.signInWithEmailAndPassword(e,t)},logout:function(){return v.signOut()},updateDisplayName:function(e){return r.updateProfile({displayName:e})},updatePassword:function(e){return r.updatePassword(e)},sendPasswordResetEmail:function(e){return v.sendPasswordResetEmail(e)}};return Object(n.useEffect)((function(){return v.onAuthStateChanged((function(e){i(e),d(!1)}))}),[]),Object(N.jsx)(P.Provider,{value:b,children:!o&&t})},k=Object(h.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"#6200EE",fontWeight:"bold"},icon:{marginRight:"0.8rem",color:"red"}}})),S=function(){var e=k(),t=w().logout;return Object(N.jsx)(l.a,{position:"fixed",className:e.appBar,children:Object(N.jsx)(o.a,{children:Object(N.jsxs)(u.a,{justify:"space-between",container:!0,children:[Object(N.jsx)(d.a,{variant:"h6",noWrap:!0,children:"Dashboard"}),Object(N.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(N.jsx)(b.a,{className:e.icon}),Object(N.jsx)(d.a,{variant:"h6",noWrap:!0,onClick:t,children:"Heartsight"})]})]})})})},I=a(600),E=a(573),A=a(574),D=a(575),W=a(576),R=a(295),_=a.n(R),T=a(296),q=a.n(T),L=a(297),U=a.n(L),G=a(299),z=a.n(G),B=a(300),M=a.n(B),H=a(301),V=a.n(H),K=a(298),Y=a.n(K),J=a(577),Q=a(206),X=a.n(Q),Z=a(207),$=a.n(Z),ee=a(34),te=Object(h.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},nested:{paddingLeft:e.spacing(4)}}})),ae=function(){var e=te(),t=c.a.useState(!0),a=Object(f.a)(t,2),n=a[0],r=a[1],i=c.a.useState(!0),s=Object(f.a)(i,2),l=s[0],d=s[1];return Object(N.jsxs)(I.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(N.jsx)(o.a,{}),Object(N.jsx)("div",{className:e.drawerContainer,children:Object(N.jsxs)(E.a,{component:"nav","aria-labelledby":"nested-list-subheader",children:[Object(N.jsxs)(A.a,{button:!0,component:ee.b,to:"/",children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(_.a,{})}),Object(N.jsx)(W.a,{primary:"Dashboard"})]}),Object(N.jsxs)(A.a,{button:!0,onClick:function(){return r(!n)},children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(q.a,{})}),Object(N.jsx)(W.a,{primary:"Patients"}),n?Object(N.jsx)(X.a,{}):Object(N.jsx)($.a,{})]}),Object(N.jsxs)(J.a,{in:n,timeout:"auto",unmountOnExit:!0,children:[Object(N.jsx)(E.a,{component:"div",disablePadding:!0,children:Object(N.jsxs)(A.a,{button:!0,component:ee.b,to:"/patients",className:e.nested,children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(U.a,{})}),Object(N.jsx)(W.a,{primary:"My Patients"})]})}),Object(N.jsx)(E.a,{component:"div",disablePadding:!0,children:Object(N.jsxs)(A.a,{button:!0,component:ee.b,to:"/patient/add",className:e.nested,children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(Y.a,{})}),Object(N.jsx)(W.a,{primary:"Add Patients"})]})}),Object(N.jsx)(E.a,{component:"div",disablePadding:!0,children:Object(N.jsxs)(A.a,{button:!0,component:ee.b,to:"/patient/alerts",className:e.nested,children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(z.a,{})}),Object(N.jsx)(W.a,{primary:"Alerts"})]})})]}),Object(N.jsxs)(A.a,{button:!0,onClick:function(){return d(!l)},component:ee.b,to:"/profile",children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(M.a,{})}),Object(N.jsx)(W.a,{primary:"Doctor"}),l?Object(N.jsx)(X.a,{}):Object(N.jsx)($.a,{})]}),Object(N.jsx)(J.a,{in:l,timeout:"auto",unmountOnExit:!0,children:Object(N.jsx)(E.a,{component:"div",disablePadding:!0,children:Object(N.jsxs)(A.a,{button:!0,component:ee.b,to:"/doctor/profile",className:e.nested,children:[Object(N.jsx)(D.a,{children:Object(N.jsx)(V.a,{})}),Object(N.jsx)(W.a,{primary:"View Profile"})]})})})]})})]})},ne=a(29),ce=a(13),re=a(579),ie=a(583),se=a(582),le=a(578),oe=a(580),de=a(581),ue=a(486),je=Object(h.a)({table:{minWidth:650}});function be(e){var t=e.header,a=e.rows,n=e.onClick,c=Object(ne.g)(),r=je();return Object(N.jsx)(le.a,{component:ue.a,children:Object(N.jsxs)(re.a,{className:r.table,"aria-label":"simple table",children:[Object(N.jsx)(oe.a,{children:Object(N.jsx)(de.a,{children:t.map((function(e){return Object(N.jsx)(se.a,{align:"center",variant:"head",children:Object(N.jsx)(d.a,{style:{fontWeight:600},children:e.title})},e.field)}))})}),Object(N.jsx)(ie.a,{children:a.map((function(e,a){return Object(N.jsx)(de.a,{onClick:n?function(){return function(e){c.push({pathname:"/patients/patient",state:e})}(e)}:null,hover:!0,children:t.map((function(t){return Object(N.jsx)(se.a,{align:"center",children:e[t.field]},t.field)}))},a)}))})]})})}for(var he=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],r=w().currentUser;return Object(n.useEffect)((function(){var e=[];C.collection("/doctors/".concat(r.uid,"/linkedPatients")).get().then((function(t){console.log(t),t.forEach((function(t){var a=Object(ce.a)(Object(ce.a)({},t.data()),{},{id:t.id});a.dateOfBirth=a.dateOfBirth.toDate().toISOString().substring(0,10),e.push(a),console.log(a)})),c(e)}))}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h1",{children:"My Patients"}),Object(N.jsx)(be,{header:[{field:"givenName",title:"Given Name"},{field:"familyName",title:"Family Name"},{field:"dateOfBirth",title:"Date of Birth"}],rows:a,onClick:!0})]})},pe=a(584),me=a(302),xe=a.n(me),Oe=Object(h.a)((function(e){return{content:{flexGrow:1,padding:e.spacing(3)},root:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingTop:"-64px"},header:{textAlign:"center",fontSize:"3rem"},qrCode:{width:"18rem"},sub:{fontSize:"1.75rem"},spinner:{height:"60px",width:"60px"}}})),fe=function(){var e=Oe(),t=w(),a=t.currentUser,c=t.createInvite,r=Object(n.useState)(""),i=Object(f.a)(r,2),s=i[0],l=i[1];return Object(n.useEffect)(Object(O.a)(x.a.mark((function e(){var t,n,r,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return t=e.sent,n=a.uid,e.next=6,C.collection("doctors").doc(n).get();case 6:r=e.sent,r.data(),i="".concat(t,"-").concat(n),xe.a.toDataURL(i).then(l);case 10:case"end":return e.stop()}}),e)}))),[]),Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)("h1",{className:e.header,children:"Patient Link QR Code"}),Object(N.jsx)("img",{className:e.qrCode,src:s}),Object(N.jsx)("p",{className:e.sub,children:"Waiting for a patient to scan the code..."}),Object(N.jsx)(pe.a,{className:e.spinner,color:"secondary"})]})},ge=a(585),ve=a(115),Ce=a.n(ve),ye=a(592),Ne=function(e){return Object(N.jsx)("form",{id:e.formId,className:e.classes.form,noValidate:!0,onSubmit:e.handleSubmitWithCleanup,children:Object(N.jsxs)(u.a,{container:!0,spacing:1,children:[Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(d.a,{children:"Given Name:"})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(ye.a,{required:!0,onChange:e.handleInputChange,value:e.inputs.givenName,name:"givenName",className:e.classes.textfield,variant:"outlined",id:"givenName",autoComplete:"givenName",fullWidth:!0,size:"small",InputLabelProps:{shrink:!0}})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(d.a,{children:"Family Name:"})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(ye.a,{required:!0,onChange:e.handleInputChange,value:e.inputs.familyName,fullWidth:!0,size:"small",name:"familyName",className:e.classes.textfield,variant:"outlined",id:"familyName",autoComplete:"familyName",InputLabelProps:{shrink:!0}})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(d.a,{children:"Date of Birth:"})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(ye.a,{required:!0,fullWidth:!0,size:"small",onChange:e.handleInputChange,value:e.inputs.dob,name:"dob",type:"date",className:e.classes.textfield,variant:"outlined",id:"dob",InputLabelProps:{shrink:!0}})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(d.a,{children:"Gender:"})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(ye.a,{required:!0,onChange:e.handleInputChange,value:e.inputs.gender,fullWidth:!0,size:"small",name:"gender",className:e.classes.textfield,variant:"outlined",id:"gender",autoComplete:"gender",InputLabelProps:{shrink:!0}})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(d.a,{children:"Place of Practice:"})}),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(ye.a,{required:!0,onChange:e.handleInputChange,value:e.inputs.placeOfPractice,fullWidth:!0,size:"small",name:"placeOfPractice",className:e.classes.placeOfPractice,variant:"outlined",id:"placeOfPractice",autoComplete:"placeOfPractice",InputLabelProps:{shrink:!0}})})]})})},Pe=a(134),we=function(e){var t=Object(n.useState)({}),a=Object(f.a)(t,2),c=a[0],r=a[1];return{handleSubmit:function(t){return t&&t.preventDefault(),e()},handleInputChange:function(e){console.log(c),e.persist(),r((function(t){return Object(ce.a)(Object(ce.a)({},t),{},Object(Pe.a)({},e.target.name,e.target.value))}))},handleCheckboxChange:function(e){console.log(c),e.persist(),r((function(t){return Object(ce.a)(Object(ce.a)({},t),{},Object(Pe.a)({},e.target.name,e.target.checked))}))},inputs:c,setInputs:r}},Fe=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"100%"}}})),ke="updateProfileForm",Se=function(e){return Object(N.jsx)(u.a,{container:!0,spacing:3,children:e.fields.map((function(t,a){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsxs)(d.a,{children:[t.title,":"]})},a),Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsx)(d.a,{align:"left",children:e.doctorProfileInfo[t.field]})},a)]})}))})},Ie=function(e){return Object(N.jsx)(ge.a,{onClick:e.onClick,display:"inline",style:{float:"left",backgroundColor:"#6200EE",color:"#FFFFFF"},children:"Edit Profile"})},Ee=function(e){return Object(N.jsxs)("div",{style:{float:"right"},children:[Object(N.jsx)(ge.a,{onClick:e.onClick,children:"Cancel"}),Object(N.jsx)(ge.a,{type:"submit",form:ke,style:{backgroundColor:"#6200EE",color:"#FFFFFF"},variant:"contained",className:e.classes.submit,children:"Save"})]})},Ae=function(e){Object(ne.h)();var t=w().currentUser,a=Fe(),c=Object(n.useState)({}),r=Object(f.a)(c,2),i=r[0],s=r[1],l=Object(n.useState)(""),o=Object(f.a)(l,2),j=(o[0],o[1]),b=Object(n.useState)(!1),h=Object(f.a)(b,2),p=h[0],m=h[1],g=we(function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.collection("doctors").doc(t.uid).set({givenName:y.givenName,familyName:y.familyName,email:y.email,dob:new Date(y.dob),gender:y.gender,placeOfPractice:y.placeOfPractice});case 3:s({givenName:y.givenName,familyName:y.familyName,email:y.email,dob:y.dob,gender:y.gender,placeOfPractice:y.placeOfPractice}),m(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),alert("Update failed: ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()),v=g.setInputs,y=g.inputs,P=g.handleInputChange,F=g.handleCheckboxChange,k=g.handleSubmit;Object(n.useEffect)(Object(O.a)(x.a.mark((function e(){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("doctors").doc(t.uid).get();case 2:a=e.sent,console.log(a),n=a.data(),console.log(n),s({givenName:n.givenName,familyName:n.familyName,dob:n.dob.toDate().toISOString().substring(0,10),email:n.email,gender:n.gender,placeOfPractice:n.placeOfPractice});case 7:case"end":return e.stop()}}),e)}))),[]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:a.root,children:Object(N.jsxs)(u.a,{container:!0,spacing:3,children:[Object(N.jsx)(u.a,{item:!0,xs:2,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsx)(Ce.a,{fontSize:"large"})})}),Object(N.jsx)(u.a,{item:!0,xs:10,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsxs)(u.a,{container:!0,spacing:3,children:[Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(d.a,{variant:"h5",display:"inline",style:{float:"left"},children:"Doctor"})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsxs)(d.a,{display:"inline",style:{float:"left"},children:[i.givenName," ",i.familyName]})}),Object(N.jsx)(u.a,{children:Object(N.jsx)(d.a,{display:"inline",style:{float:"left"},children:i.email})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:p?Object(N.jsx)(Ee,{classes:a,onClick:function(){return m(!1)}}):Object(N.jsx)(Ie,{onClick:function(){m(!0),v(i)}})})]})})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(ue.a,{className:a.paper,children:p?Object(N.jsx)(Ne,{classes:a,handleSubmitWithCleanup:k,handleInputChange:P,handleCheckboxChange:F,inputs:y,setError:j,formId:ke}):Object(N.jsx)(Se,{fields:[{field:"givenName",title:"Given Name"},{field:"familyName",title:"Family Name"},{field:"dob",title:"Date of Birth"},{field:"gender",title:"Gender"},{field:"placeOfPractice",title:"Place of Practice"}],doctorProfileInfo:i})})})]})})})},De=a(54),We=a(594),Re=a(587),_e=a(303),Te=[1523,1495,1479,1546,1561,1537,1638,1642,1662,1733,1714,1848,2018,1950,1848,1840,1863,1688,3308,2130,1713,1614,1683,1740,1794,1920,1962,2155,2144,2155,2020,1823,1727,1639,1563,1645,1628,1690,1783,1792,1779,1791,1882,1924,1995,1985,1883,1913,1953,1898,1931,2811,3182,1729,1953,1912,1985,1935,2239,2232,2335,2417,2412,2217,2040,1865,1832,1827,1801,1893,1881,1934,1875,2015,1923,1936,1953,1912,2024,2026,1974,1925,1866,1898,1820,2488,3449,1617,1932,1863,1954,2081,2016,2154,2296,2444,2317,2301,2135,1995,1930,1964,1976,1957,1982,1968,1917,1928,1966,2026,1990,1969,2067,2114,2145,2001,1910,2059,1976,2095,3597,1852,2044,1987,2006,2073,2164,2181,2372,2508,2567,2475,2200,2064,2005,1968,2041,2028,2053,2016,1996,2107,2002,2024,2118,2074,2152],qe=function(e){var t=e.title,a=[{color:"hsl(29, 70%, 50%)",data:e.data.map((function(e,t){return{x:t,y:e}}))}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(d.a,{variant:"h5",style:{marginTop:10},children:t}),Object(N.jsx)(_e.a,{data:a,margin:{top:20,right:50,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},yFormat:" >-.2f",axisTop:null,axisRight:null,axisBottom:null,axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:t,legendOffset:-50,legendPosition:"middle"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabelYOffset:-12,useMesh:!0,legends:[]})]})},Le=[],Ue=0;Ue<100;Ue++){var Ge=Math.round(120-40*Math.random());Le.push(Ge)}var ze=Le;function Be(e){var t=e.children,a=e.value,n=e.index,c=Object(De.a)(e,["children","value","index"]);return Object(N.jsx)("div",Object(ce.a)(Object(ce.a)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),{},{style:{height:500,justifyContent:"center",textAlign:"center",padding:20},children:t}))}var Me=Object(h.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function He(e){var t=e.headers,a=Me(),n=c.a.useState(0),r=Object(f.a)(n,2),i=r[0],s=r[1];return Object(N.jsxs)("div",{className:a.root,children:[Object(N.jsx)(l.a,{position:"static",children:Object(N.jsx)(We.a,{value:i,onChange:function(e,t){s(t)},"aria-label":"simple tabs example",style:{backgroundColor:"#6200EE"},children:t.map((function(e,t){return Object(N.jsx)(Re.a,Object(ce.a)({label:e},{id:"simple-tab-".concat(a=t),"aria-controls":"simple-tabpanel-".concat(a)}),t);var a}))})}),Object(N.jsx)(Be,{value:i,index:0,children:Object(N.jsx)(be,{header:[{field:"alertType",title:"Alert Type"},{field:"date",title:"Alert Date "}],rows:[{alertType:"High Heart Rate",date:"01-04-2021"},{alertType:"Unusual ECG Pattern",date:"05-04-2021"}]})}),Object(N.jsx)(Be,{value:i,index:1,children:Object(N.jsx)(qe,{title:"ECG Reading",data:Te})}),Object(N.jsx)(Be,{value:i,index:2,children:Object(N.jsx)(qe,{title:"Heart Rate (BPM)",data:ze,onClick:!1})})]})}var Ve=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"100%"}}})),Ke="updateProfileForm",Ye=function(e){Object(ne.h)();var t=w().currentUser,a=Ve(),c=Object(n.useState)(""),r=Object(f.a)(c,2),i=(r[0],r[1]),s=we(function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("doctors").doc(t.uid).set({givenName:o.givenName,familyName:o.familyName,email:o.email,dob:new Date(o.dob),gender:o.gender,placeOfPractice:o.placeOfPractice});case 2:alert("User profile successfully updated");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),l=s.setInputs,o=s.inputs,j=s.handleInputChange,b=s.handleCheckboxChange,h=s.handleSubmit,p=Object(n.useState)({}),m=Object(f.a)(p,2),g=m[0],v=m[1];return Object(n.useEffect)(Object(O.a)(x.a.mark((function e(){var a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.collection("doctors").doc(t.uid).get();case 2:a=e.sent,console.log(a),n=a.data(),console.log(n),v({givenName:n.givenName,familyName:n.familyName,dob:n.dob.toDate().toISOString().substring(0,10),email:n.email,gender:n.gender,placeOfPractice:n.placeOfPractice}),l({givenName:n.givenName,familyName:n.familyName,dob:n.dob.toDate().toISOString().substring(0,10),email:n.email,gender:n.gender,placeOfPractice:n.placeOfPractice});case 8:case"end":return e.stop()}}),e)}))),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:a.root,children:Object(N.jsxs)(u.a,{container:!0,spacing:3,children:[Object(N.jsx)(u.a,{item:!0,xs:2,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsx)(Ce.a,{fontSize:"large"})})}),Object(N.jsx)(u.a,{item:!0,xs:10,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsxs)(u.a,{container:!0,spacing:3,children:[Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(d.a,{variant:"h5",display:"inline",style:{float:"left"},children:"Doctor"})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:g&&Object(N.jsxs)(d.a,{display:"inline",style:{float:"left"},children:[g.givenName," ",g.familyName]})}),Object(N.jsxs)(u.a,{item:!0,xs:12,children:[Object(N.jsx)(ge.a,{button:!0,component:ee.b,to:"/doctor/profile",children:"Cancel"}),Object(N.jsx)(ge.a,{type:"submit",form:Ke,style:{backgroundColor:"#5784FF",color:"#FFFFFF"},variant:"contained",className:a.submit,children:"Save"})]})]})})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsx)(u.a,{container:!0,spacing:5,justify:"center",children:Object(N.jsx)(Ne,{classes:a,handleSubmitWithCleanup:h,handleInputChange:j,handleCheckboxChange:b,inputs:o,setError:i,formId:Ke})})})})]})})})},Je=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("h1",{children:"Dashboard Analytics"})})},Qe=function(){return Object(N.jsx)("h1",{children:"Patient Alerts"})},Xe=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,height:"100%"}}})),Ze=function(e){var t=Object(ne.h)().state,a=Xe(),n=w().currentUser,c=Object(ne.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:a.root,children:[Object(N.jsxs)(u.a,{container:!0,spacing:3,children:[Object(N.jsx)(u.a,{item:!0,xs:2,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsx)(Ce.a,{fontSize:"large"})})}),Object(N.jsx)(u.a,{item:!0,xs:2,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsxs)(u.a,{container:!0,spacing:3,children:[Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(d.a,{variant:"h5",children:"Patient"})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsxs)(d.a,{children:[t.givenName," ",t.surname]})}),Object(N.jsx)(u.a,{item:!0,xs:12,children:Object(N.jsx)(ge.a,{style:{backgroundColor:"red",color:"white"},onClick:function(){C.collection("/doctors/".concat(n.uid,"/linkedPatients")).doc(t.id).delete().then((function(){C.collection("/patients").doc(t.id).update({doctors:g.a.firestore.FieldValue.arrayRemove(n.uid)}).then((function(){c.push({pathname:"/patients",state:{}}),console.log("deleted")}))}))},children:"Unlink Patient"})})]})})}),Object(N.jsx)(u.a,{item:!0,xs:8,children:Object(N.jsx)(ue.a,{className:a.paper,children:Object(N.jsx)(u.a,{container:!0,spacing:3,justify:"center",children:[{field:"email",title:"Email"},{field:"occupation",title:"Occupation"},{field:"age",title:"Age"},{field:"gender",title:"Gender"},{field:"phone",title:"Phone"},{field:"maritalStatus",title:"Marital Status"}].map((function(e,a){return Object(N.jsx)(u.a,{item:!0,xs:6,children:Object(N.jsxs)(d.a,{children:[e.title,": ",t[e.field]]})},a)}))})})})]}),Object(N.jsx)("div",{style:{height:20}}),Object(N.jsx)(He,{headers:["Alerts","ECG History","Heartrate"]})]})})},$e=Object(h.a)((function(e){return{content:{flexGrow:1,padding:e.spacing(3)}}})),et=function(){var e=$e();return Object(N.jsxs)("main",{className:e.content,children:[Object(N.jsx)(o.a,{}),Object(N.jsxs)(ne.d,{children:[Object(N.jsx)(ne.b,{exact:!0,path:"/",children:Object(N.jsx)(Je,{})}),Object(N.jsx)(ne.b,{exact:!0,path:"/patients",children:Object(N.jsx)(he,{})}),Object(N.jsx)(ne.b,{exact:!0,path:"/patients/patient",children:Object(N.jsx)(Ze,{})}),Object(N.jsx)(ne.b,{exact:!0,path:"/patient/add",children:Object(N.jsx)(fe,{})}),Object(N.jsx)(ne.b,{exact:!0,path:"/patient/alerts",children:Object(N.jsx)(Qe,{})}),Object(N.jsx)(ne.b,{exact:!0,path:"/doctor/profile",children:Object(N.jsx)(Ae,{})}),Object(N.jsx)(ne.b,{exact:!0,path:"/doctor/profile/update",children:Object(N.jsx)(Ye,{})})]})]})},tt=Object(h.a)((function(e){return{root:{display:"flex",height:"100vh",overflowY:"scroll"}}})),at=function(){var e=tt();return Object(N.jsxs)("div",{className:e.root,children:[Object(N.jsx)(s.a,{}),Object(N.jsx)(S,{}),Object(N.jsx)(ae,{}),Object(N.jsx)(et,{})]})},nt=function(e){var t=e.component,a=Object(De.a)(e,["component"]),n=w().currentUser;return Object(N.jsx)(ne.b,Object(ce.a)(Object(ce.a)({},a),{},{render:function(e){return n?Object(N.jsx)(t,Object(ce.a)({},e)):Object(N.jsx)(ne.a,{to:"/login"})}}))},ct=a(589),rt=a(598),it=a(591),st=a(596),lt=Object(h.a)((function(e){return{root:{height:"100vh"},image:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paperbase:{backgroundColor:"#6200EE",color:"#FFFFFF"},paper:{margin:e.spacing(19,15),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},submit:{margin:e.spacing(3,0,2)},textfield:{backgroundColor:"#FFFFFF",color:"#FFFFFF",opacity:1,borderRadius:5}}})),ot=function(e){return Object(N.jsxs)("form",{className:e.classes.form,noValidate:!0,onSubmit:e.handleSubmitWithCleanup,children:[Object(N.jsx)(ye.a,{margin:"normal",required:!0,fullWidth:!0,onChange:e.handleInputChange,value:e.inputs.email,name:"email",className:e.classes.textfield,variant:"outlined",id:"email",placeholder:"Enter your email",autoComplete:"email",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ye.a,{margin:"normal",fullWidth:!0,className:e.classes.textfield,variant:"outlined",onChange:e.handleInputChange,required:!0,value:e.inputs.password,name:"password",placeholder:"Enter your password",type:"password",id:"password",autoComplete:"current-password",InputLabelProps:{shrink:!0}}),Object(N.jsxs)(u.a,{container:!0,alignItems:"center",children:[Object(N.jsx)(u.a,{item:!0,xs:!0,children:Object(N.jsx)(ct.a,{control:Object(N.jsx)(rt.a,{name:"rememberMe",checked:e.inputs.rememberMe,onChange:e.handleCheckboxChange,style:{color:"#FFFFFF"}}),label:"Remember me"})}),Object(N.jsx)(u.a,{item:!0,styles:{textAlign:"right"},children:Object(N.jsx)(it.a,{href:"#",variant:"body1",style:{color:"#FFFFFF"},onClick:e.showRecoverPassword,children:"Recover Password"})})]}),Object(N.jsxs)(u.a,{container:!0,alignItems:"center",children:[Object(N.jsx)(u.a,{item:!0,xs:!0,children:Object(N.jsx)(it.a,{href:"#",variant:"body1",style:{color:"#FFFFFF"},onClick:e.showSignupForm,children:"Create account"})}),Object(N.jsx)(u.a,{item:!0,children:Object(N.jsx)(ge.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#5784FF",color:"#FFFFFF"},variant:"contained",className:e.classes.submit,children:"Sign In"})})]})]})},dt=function(e){return Object(N.jsxs)("form",{className:e.classes.form,noValidate:!0,onSubmit:e.handleSubmitWithCleanup,children:[Object(N.jsx)(ye.a,{margin:"normal",required:!0,fullWidth:!0,onChange:e.handleInputChange,value:e.inputs.givenName,name:"givenName",className:e.classes.textfield,variant:"outlined",id:"givenName",placeholder:"Enter your given name",autoComplete:"givenName",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ye.a,{margin:"normal",required:!0,fullWidth:!0,onChange:e.handleInputChange,value:e.inputs.familyName,name:"familyName",className:e.classes.textfield,variant:"outlined",id:"familyName",placeholder:"Enter your family name",autoComplete:"familyName",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ye.a,{margin:"normal",required:!0,fullWidth:!0,onChange:e.handleInputChange,value:e.inputs.email,name:"email",className:e.classes.textfield,variant:"outlined",id:"email",placeholder:"Enter your email",autoComplete:"email",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ye.a,{margin:"normal",required:!0,fullWidth:!0,onChange:e.handleInputChange,value:e.inputs.dob,name:"dob",type:"date",className:e.classes.textfield,variant:"outlined",id:"dob",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ye.a,{margin:"normal",fullWidth:!0,className:e.classes.textfield,variant:"outlined",onChange:e.handleInputChange,required:!0,value:e.inputs.password,name:"password",placeholder:"Enter your password",type:"password",id:"password",autoComplete:"current-password",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ye.a,{margin:"normal",fullWidth:!0,className:e.classes.textfield,variant:"outlined",onChange:e.handleInputChange,required:!0,value:e.inputs.confirmPassword,name:"confirmPassword",placeholder:"Confirm your password",type:"password",id:"confirmPassword",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ge.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#5784FF",color:"#FFFFFF"},variant:"contained",className:e.classes.submit,children:"Create Account"})]})},ut=function(e){return Object(N.jsxs)("form",{className:e.classes.form,noValidate:!0,onSubmit:e.sendPwResetEmail,children:[Object(N.jsx)(ye.a,{margin:"normal",required:!0,fullWidth:!0,onChange:e.handleInputChange,value:e.inputs.email,name:"email",className:e.classes.textfield,variant:"outlined",id:"email",placeholder:"Enter your email",autoComplete:"email",InputLabelProps:{shrink:!0}}),Object(N.jsx)(ge.a,{type:"submit",fullWidth:!0,style:{backgroundColor:"#5784FF",color:"#FFFFFF"},variant:"contained",className:e.classes.submit,children:"Recover Password"})]})},jt=function(){var e=w(),t=e.login,a=e.currentUser,c=e.sendPasswordResetEmail,r=e.signUp,i=we((function(){return t(l.email,l.password)})),l=i.inputs,o=i.handleInputChange,d=i.handleCheckboxChange,j=i.handleSubmit,b=we(function(){var e=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(""),e.next=4,r(h.email,h.password,{givenName:h.givenName,familyName:h.familyName,email:h.email,dob:new Date(h.dob)});case 4:e.next=12;break;case 6:return e.prev=6,e.t0=e.catch(0),t=e.t0.code,a=e.t0.message,P("auth/email-already-in-use"===t?"Email already in use.":"auth/invalid-email"===t?"An invalid email was used.":"auth/weak-password"===t?"Please sign up with a stronger password.":"Failed to sign up. Error message ".concat(a,".")),e.abrupt("return");case 12:U();case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()),h=b.inputs,p=b.handleInputChange,m=b.handleCheckboxChange,g=b.handleSubmit,v=Object(n.useState)(""),C=Object(f.a)(v,2),y=C[0],P=C[1],F=Object(n.useState)(""),k=Object(f.a)(F,2),S=k[0],I=k[1],E=Object(n.useState)(!1),A=Object(f.a)(E,2),D=(A[0],A[1]),W=Object(n.useState)(0),R=Object(f.a)(W,2),_=R[0],T=R[1],q=Object(ne.g)(),L=lt(),U=function(){T(0)};function G(e){return z.apply(this,arguments)}function z(){return(z=Object(O.a)(x.a.mark((function e(t){var n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){D(!1)},e.prev=1,P(""),D(!0),e.next=6,j(t);case 6:console.log(a),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(1),c=e.t0.code,e.t0.message,P("auth/wrong-password"===c?"Wrong password":"auth/invalid-email"===c?"An invalid email was used.":"Failed to log in. Check if you have used the correct credentials."),e.abrupt("return",n());case 15:return r=n(),q.push("/"),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var B=function(){var e=Object(O.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,c(l.email);case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),a=e.t0.code,e.t0.message,P("auth/wrong-password"===a?"Wrong password":"auth/invalid-email"===a?"An invalid email was used.":"Failed to log in. Check if you have used the correct credentials.");case 11:I("Your password has been reset. Please check your email.");case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(u.a,{container:!0,component:"main",className:L.root,children:[Object(N.jsx)(s.a,{}),Object(N.jsx)(u.a,{item:!0,xs:!1,sm:!1,md:5,className:L.image}),Object(N.jsx)(u.a,{item:!0,xs:12,sm:12,md:7,component:ue.a,elevation:6,square:!0,className:L.paperbase,children:Object(N.jsxs)("div",{className:L.paper,children:[y&&Object(N.jsx)(st.a,{severity:"error",children:y}),S&&Object(N.jsx)(st.a,{severity:"info",children:S}),0===_&&Object(N.jsx)(ot,{classes:L,handleSubmitWithCleanup:G,handleInputChange:o,handleCheckboxChange:d,inputs:l,showRecoverPassword:function(){T(1)},showSignupForm:function(){T(2)}}),1===_&&Object(N.jsx)(ut,{classes:L,handleSubmitWithCleanup:G,handleInputChange:o,handleCheckboxChange:d,inputs:l,setError:P,sendPwResetEmail:B}),2===_&&Object(N.jsx)(dt,{classes:L,handleSubmitWithCleanup:g,handleInputChange:p,handleCheckboxChange:m,inputs:h,setError:P})]})})]})},bt=Object(h.a)((function(e){return{root:{display:"flex"}}})),ht=function(){bt();return Object(N.jsx)(ee.a,{children:Object(N.jsx)(F,{children:Object(N.jsxs)(ne.d,{children:[Object(N.jsx)(ne.b,{path:"/login",component:jt}),Object(N.jsx)(nt,{path:"/",to:"/login",component:at})]})})})},pt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,602)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(ht,{})}),document.getElementById("root")),pt()}},[[483,1,2]]]);
//# sourceMappingURL=main.0a08f11e.chunk.js.map